<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>PDF arrastável + hitboxes</title>
<style>
  html,body { height:100%; margin:0; background:#111; color:#eee; font-family:Arial; }
  #controls {
    position:fixed; left:10px; top:10px; z-index:9999;
    background:rgba(0,0,0,0.6); padding:6px; border-radius:6px;
  }
  #controls button { margin-right:4px; }
  #viewer { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; }
  #canvasContainer {
    position:relative;
    width:100%; height:100%;
    overflow:auto;
    background:#222;
  }
  canvas { background:white; display:block; }
  .hitbox {
    position:absolute;
    background:transparent;
    cursor:pointer;
  }
</style>
</head>
<body>

<div id="controls">
  <button id="prev">◀</button>
  <button id="next">▶</button>
  <button id="zoomOut">−</button>
  <button id="zoomIn">+</button>
</div>

<div id="viewer">
  <div id="canvasContainer">
    <canvas id="pdfCanvas"></canvas>
  </div>
</div>

<!-- PDF.js -->
<script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.6.172/build/pdf.min.js"></script>
<script>
const pdfUrl = 'meu.pdf'; // coloque seu PDF na mesma pasta do index.html

const hitboxesPerPage = {
  1: [
    { left: 10, top: 70, width: 20, height: 8, type: 'link', href: 'https://youtube.com' }
  ]
};

const pdfjsLib = window['pdfjs-dist/build/pdf'];
pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdn.jsdelivr.net/npm/pdfjs-dist@3.6.172/build/pdf.worker.min.js';

const canvas = document.getElementById('pdfCanvas');
const ctx = canvas.getContext('2d');
const container = document.getElementById('canvasContainer');

let pdfDoc = null, pageNum = 1, scale = 1;

async function loadPdf(){
  pdfDoc = await pdfjsLib.getDocument(pdfUrl).promise;
  renderPage(pageNum);
}

async function renderPage(num){
  const page = await pdfDoc.getPage(num);
  const viewport = page.getViewport({ scale });
  canvas.width = viewport.width;
  canvas.height = viewport.height;
  await page.render({ canvasContext: ctx, viewport }).promise;
  placeHitboxes(num);
}

function placeHitboxes(p){
  container.querySelectorAll('.hitbox').forEach(h => h.remove());
  (hitboxesPerPage[p] || []).forEach(h => {
    const el = document.createElement('a');
    el.className = 'hitbox';
    el.href = h.href;
    el.target = '_blank';
    el.style.left = h.left + '%';
    el.style.top = h.top + '%';
    el.style.width = h.width + '%';
    el.style.height = h.height + '%';
    el.style.position = 'absolute';
    el.style.zIndex = 10;
    container.appendChild(el);
  });
}

document.getElementById('prev').onclick = () => { if(pageNum>1){ pageNum--; renderPage(pageNum); } };
document.getElementById('next').onclick = () => { if(pageNum<pdfDoc.numPages){ pageNum++; renderPage(pageNum); } };
document.getElementById('zoomIn').onclick = () => { scale *= 1.2; renderPage(pageNum); };
document.getElementById('zoomOut').onclick = () => { scale /= 1.2; renderPage(pageNum); };

loadPdf();
</script>
</body>
</html>
